<!--
Web Based Configuration Tool for WB40NBT/WB45NBT
Joe Conley, joe.conley@lairdtech.com
Version: 0.76
-->
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Web based configuration tool for WB platform">
    <meta name="author" content="Joseph Conley:joe.conley@lairdtech.com">
    <link rel="icon" href="/assets/img/laird_logo.png">

    <!-- Le styles -->
    <link href="../assets/css/bootstrap.min.css" rel="stylesheet">
    <link href="../assets/css/bootstrap.min.css" rel="stylesheet">

    <!-- HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
      <script src="../assets/js/html5shiv.js"></script>
    <![endif]-->
<title>SCU - About</title>
  </head>

  <body>

    <div class="container">
	<br>
		<div class="row">
		<div class="hidden-xs col-sm-3 col-md-4"></div>	
		<div class="hidden-xs col-sm-4 col-md-4"><a class="brand"><img src="/assets/img/laird_logo.png"></a></div>
		<div class="hidden-xs col-sm-4 col-md-4"></div>	
		</div>
	<br>
	<nav class="navbar navbar-default " role="navigation">
		<ul class="nav nav-tabs nav-justified">
			<li><a href="/status.html">Status</a></li>
			<li><a href="/profileconfig.html">Profile Configuration</a></li>
			<li class="active"><a href="/globalconfig.html">Global Configuration</a></li>
			<li><a href="/about.html">About</a></li>
		</ul>
	<div class="panel panel-default">
	<div class="row panel-body">
	<form name='globalEdit' action='' method='post'>
		<br>
		<div class="col-md-12 col-md-offset-2">
		<h2>Global Configuration</h2>
		<?php
		if (isset($_POST['globalSub']))
		{
			?>
			<div class="alert alert-success">
			<h4>Success!</h4>
			<?php
			echo "<h6>Summited Global Configuration</h6>";
			?>
			</div>
			<?php
			echo "<br>";
		}
		?>
		</div> <!-- /div for h2 and some php code -->
		<div class="col-md-4 col-md-offset-2">
		<?php
		exec('sdc_cli status', $sdcstatus);
		$TitleStatus=ucwords(substr($sdcstatus[0],11));
		if (strlen($TitleStatus) == 9)
		{
			echo "<title>SCU - $TitleStatus</title>";
		}
		else
		{
			echo "<title>SCU - Enabled</title>";
		}
		exec('sdc_cli global show', $globalShow);
		echo "";
		$getFrag=substr($globalShow[0],29);
		if ($getFrag == "<unsupported>")
		{
			echo "Fragmentation Threshold:<br><input class='form-control input-sm' type='text' name='Frag' value='$getFrag' disabled>";
			echo "<br>";
		}
		else
		{
			echo "Fragmentation Threshold:<br><input class='form-control input-sm' type='text' name='Frag' value='$getFrag'>";
			echo "<br>";
		}
		$getRTS=substr($globalShow[1],19);
		echo "RTS Threshold:<br><input class='form-control input-sm' type='text' name='RTS' value='$getRTS'>";
		echo "<br>";

		$getRXDiv=substr($globalShow[2],18);
		if ($getRXDiv == "<unsupported>")
		{
			echo "RX Diversity:<br><input class='form-control input-sm' type='text' name='RXdiv' value='$getRXDiv' disabled>";
			echo "<br>";
		}
		elseif ($getRXDiv == "main")
		{
			echo "RX Diversity:<br><select class='form-control input-sm' name='RXdiv'>";
			echo "<option value='main' selected>Main Only</option>";
			echo "<option value='aux'>AUX Only</option>";
			echo "<option value='start_main'>On-Start on Main</option>";
			echo "<option value='start_aux'>On-Start on AUX</option>";
			echo "</select>";
			echo "<br>";
		}
		elseif ($getRXDiv == "aux")
		{
			echo "RX Diversity:<br><select class='form-control input-sm' name='RXdiv'>";
			echo "<option value='main'>Main Only</option>";
			echo "<option value='aux' selected>AUX Only</option>";
			echo "<option value='start_main'>On-Start on Main</option>";
			echo "<option value='start_aux'>On-Start on AUX</option>";
			echo "</select>";
			echo "<br>";
		}
		elseif ($getRXDiv == "start_main")
		{
			echo "RX Diversity:<br><select class='form-control input-sm' name='RXdiv'>";
			echo "<option value='main'>Main Only</option>";
			echo "<option value='aux'>AUX Only</option>";
			echo "<option value='start_main' selected>On-Start on Main</option>";
			echo "<option value='start_aux'>On-Start on AUX</option>";
			echo "</select>";
			echo "<br>";
		}
		elseif ($getRXDiv == "start_aux")
		{
			echo "RX Diversity:<br><select class='form-control input-sm' name='RXdiv'>";
			echo "<option value='main'>Main Only</option>";
			echo "<option value='aux'>AUX Only</option>";
			echo "<option value='start_main'>On-Start on Main</option>";
			echo "<option value='start_aux' selected>On-Start on AUX</option>";
			echo "</select>";
			echo "<br>";
		}
		else
		{
			echo "RX Diversity:<br><select class='form-control input-sm' name='RXdiv'>";
			echo "<option value='main' selected>Main Only</option>";
			echo "<option value='aux'>AUX Only</option>";
			echo "<option value='start_main'>On-Start on Main</option>";
			echo "<option value='start_aux'>On-Start on AUX</option>";
			echo "</select>";
			echo "<br>";
		}
		$getTXDiv=substr($globalShow[3],18);
		if ($getTXDiv == "<unsupported>")
		{
			echo "TX Diversity:<br><input class='form-control input-sm' type='text' name='TXdiv' value='$getTXDiv' disabled>";
			echo "<br>";
		}
		elseif ($getTXDiv == "main")
		{
			echo "TX Diversity:<br><select class='form-control input-sm' name='TXdiv'>";
			echo "<option value='main' selected>Main Only</option>";
			echo "<option value='aux'>AUX Only</option>";
			echo "<option value='on'>On</option>";
			echo "</select>";
			echo "<br>";
		}
		elseif ($getTXDiv == "aux")
		{
			echo "TX Diversity:<br><select class='form-control input-sm' name='TXdiv'>";
			echo "<option value='main'>Main Only</option>";
			echo "<option value='aux' selected>AUX Only</option>";
			echo "<option value='on'>On</option>";
			echo "</select>";
			echo "<br>";
		}
		elseif ($getTXDiv == "on")
		{
			echo "TX Diversity:<br><select class='form-control input-sm' name='TXdiv'>";
			echo "<option value='main'>Main Only</option>";
			echo "<option value='aux'>AUX Only</option>";
			echo "<option value='on' selected>On</option>";
			echo "</select>";
			echo "<br>";
		}
		else
		{
			echo "TX Diversity:<br><select class='form-control input-sm' name='TXdiv'>";
			echo "<option value='main'>Main Only</option>";
			echo "<option value='aux'>AUX Only</option>";
			echo "<option value='on'>On</option>";
			echo "</select>";
			echo "<br>";
		}

		$getTrigger=substr($globalShow[4],18,3);
		$num = -95; 
		echo "Roam Trigger:<br><select class='form-control input-sm' name='Trigger'>";
		while($num < -50)
		{
			$num = $num + 5;
			if ($num == $getTrigger)
			{
				echo "<option value='$num' selected>$num dBm</option>";
			}
			else
			{
				echo "<option value='$num'>$num dBm</option>";
			}
		}
		echo "</select>";
		echo "<br>";

		$getDelta=substr($globalShow[5],16,3);
		$num1 = 40; 
		echo "Roam Delta:<br><select class='form-control input-sm' name='Delta'>";
		while($num1 > 5)
		{
			$num1 = $num1 - 5;
			if ($num1 == $getDelta)
			{
				echo "<option value='$num1' selected>$num1 dBm</option>";
			}
			else
			{
				echo "<option value='$num1'>$num1 dBm</option>";
			}
		}
		echo "</select>";
		echo "<br>";

		$getPeriod=substr($globalShow[6],17,3);
		$num2 = 65; 
		echo "Roam Period:<br><select class='form-control input-sm' name='Period'>";
		while($num2 > 5)
		{
			$num2 = $num2 - 5;
			if ($num2 == $getPeriod)
			{
				echo "<option value='$num2' selected>$num2 Sec</option>";
			}
			else
			{
				echo "<option value='$num2'>$num2 Sec</option>";
			}
		}
		echo "</select>";
		echo "<br>";

		$getCoexist=substr($globalShow[7],16);
		if ($getCoexist == "on")
		{
			echo "BT Coexist:<br><select class='form-control input-sm' name='Coexist'>";
			echo "<option value='on' selected>On</option>";
			echo "<option value='off'>Off</option>";
			echo "</select>";
			echo "<br>";
		}
		elseif ($getCoexist == "off")
		{
			echo "BT Coexist:<br><select class='form-control input-sm' name='Coexist'>";
			echo "<option value='on'>On</option>";
			echo "<option value='off' selected>Off</option>";
			echo "</select>";
			echo "<br>";
		}
		else
		{
			echo "BT Coexist:<br><select class='form-control input-sm' name='Coexist'>";
			echo "<option value='on'>On</option>";
			echo "<option value='off' selected>Off</option>";
			echo "</select>";
			echo "<br>";
		}

		$getTXMax=substr($globalShow[8],12);
		echo "TX Max:<br><input class='form-control input-sm' type='text' name='TXMax' value='$getTXMax'>";
		echo "<br>";

		$getRegDom=substr($globalShow[9],23);
		echo "Regulatory domain:<br><input class='form-control input-sm' type='text' name='RegDom' value='$getRegDom' disabled>";
		echo "<br>";

		$getWMM=substr($globalShow[10],9);
		if ($getWMM == "on")
		{
			echo "WMM:<br><select class='form-control input-sm' name='WMM'>";
			echo "<option value='on' selected>On</option>";
			echo "<option value='off'>Off</option>";
			echo "</select>";
			echo "<br>";
		}
		elseif ($getWMM == "off")
		{
			echo "WMM:<br><select class='form-control input-sm' name='WMM'>";
			echo "<option value='on'>On</option>";
			echo "<option value='off' selected>Off</option>";
			echo "</select>";
			echo "<br>";
		}
		else
		{
			echo "WMM:<br><select class='form-control input-sm' name='WMM'>";
			echo "<option value='on'>On</option>";
			echo "<option value='off'>Off</option>";
			echo "</select>";
			echo "<br>";
		}
		?>
	</div><!-- left side -->
	<div class="col-md-4 col-md-offset-2">
		<?php
$getCCX=substr($globalShow[11],18);
		if ($getCCX == "full")
		{
			echo "CCX Features:<br><select class='form-control input-sm' name='CCX'>";
			echo "<option value='full' selected>Full</option>";
			echo "<option value='off'>Off</option>";
			echo "</select>";
			echo "<br>";
		}
		elseif ($getCCX == "off")
		{
			echo "CCX Features:<br><select class='form-control input-sm' name='CCX'>";
			echo "<option value='full'>Full</option>";
			echo "<option value='off' selected>Off</option>";
			echo "</select>";
			echo "<br>";
		}
		else
		{
			echo "CCX Features:<br><select class='form-control input-sm' name='CCX'>";
			echo "<option value='full'>Full</option>";
			echo "<option value='off'>Off</option>";
			echo "</select>";
			echo "<br>";
		}

		$getCert=substr($globalShow[12],23);
		echo "Certificate store:<br><input class='form-control input-sm' type='text' name='Cert' value='$getCert'>";
		echo "<br>";

		$getBGChan=substr($globalShow[13],20);
		echo "BG Channel Set:<br><input class='form-control input-sm' type='text' name='BGChan' value='$getBGChan'>";
		echo "<br>";

		$getAggScan=substr($globalShow[14],21);
		echo "Aggressive scan:<br><input class='form-control input-sm' type='text' name='AggScan' value='$getAggScan' disabled>";
		echo "<br>";

		$getPMK=substr($globalShow[15],17);
		if ($getPMK == "0")
		{
			echo "PMK Caching:<br><select class='form-control input-sm' name='PMK'>";
			echo "<option value='0' selected>Standard</option>";
			echo "<option value='1'>OPMK</option>";
			echo "</select>";
			echo "<br>";
		}
		elseif ($getPMK == "1")
		{
			echo "PMK Caching:<br><select class='form-control input-sm' name='PMK'>";
			echo "<option value='0'>Standard</option>";
			echo "<option value='1' selected>OPMK</option>";
			echo "</select>";
			echo "<br>";
		}
		else
		{
			echo "PMK Caching:<br><select class='form-control input-sm' name='PMK'>";
			echo "<option value='0'>Standard</option>";
			echo "<option value='1'>OPMK</option>";
			echo "</select>";
			echo "<br>";
		}

		$getAdhoc=substr($globalShow[16],27);
		echo "Default Adhoc Channel:<br><input class='form-control input-sm' type='text' name='Adhoc' value='$getAdhoc'>";
		echo "<br>";

		$getScan=substr($globalShow[17],19);
		echo "Scan DFS time:<br><input class='form-control input-sm' type='text' name='Scan' value='$getScan'>";
		echo "<br>";

		$getDFS=substr($globalShow[18],18);
		if ($getDFS == "full")
		{
			echo "DFS Channels:<br><select class='form-control input-sm' name='DFS'>";
			echo "<option value='on' selected>Full</option>";
			echo "<option value='off'>Off</option>";
			echo "</select>";
			echo "<br>";
		}
		elseif ($getDFS == "off")
		{
			echo "DFS Channels:<br><select class='form-control input-sm' name='DFS'>";
			echo "<option value='on'>Full</option>";
			echo "<option value='off' selected>Off</option>";
			echo "</select>";
			echo "<br>";
		}
		else
		{
			echo "DFS Channels:<br><select class='form-control input-sm' name='DFS'>";
			echo "<option value='on'>Full</option>";
			echo "<option value='off'>Off</option>";
			echo "</select>";
			echo "<br>";
		}

		$getServer=substr($globalShow[19],22);
		if ($getServer == "acs")
		{
			echo "Auth Server Type:<br><select class='form-control input-sm' name='Server'>";
			echo "<option value='1' selected>ACS</option>";
			echo "<option value='2'>SBR</option>";
			echo "</select>";
			echo "<br>";
		}
		elseif ($getServer == "sbr")
		{
			echo "Auth Server Type:<br><select class='form-control input-sm' name='Server'>";
			echo "<option value='1'>ACS</option>";
			echo "<option value='2' selected>SBR</option>";
			echo "</select>";
			echo "<br>";
		}
		else
		{
			echo "Auth Server Type:<br><select class='form-control input-sm' name='Server'>";
			echo "<option value='1'>ACS</option>";
			echo "<option value='2'>SBR</option>";
			echo "</select>";
			echo "<br>";
		}

		$getTTLSinner=substr($globalShow[20],23);
		echo "TTLS Inner Method:<br><input class='form-control input-sm' type='text' name='TTLSinner' value='$getTTLSinner' disabled>";
		echo "<br>";

		$getFIPS=substr($globalShow[21],15);
		if ($getFIPS == "enabled")
		{
			echo "FIPS mode:<br><select class='form-control input-sm' name='FIPS'>";
			echo "<option value='enabled' selected>Enabled</option>";
			echo "<option value='disabled'>Disabled</option>";
			echo "</select>";
			echo "<br>";
		}
		elseif ($getFIPS == "disabled")
		{
			echo "FIPS mode:<br><select class='form-control input-sm' name='FIPS'>";
			echo "<option value='enabled'>Enabled</option>";
			echo "<option value='disabled' selected>Disabled</option>";
			echo "</select>";
			echo "<br>";
		}
		else
		{
			echo "FIPS mode:<br><select class='form-control input-sm' name='FIPS'>";
			echo "<option value='enabled'>Enabled</option>";
			echo "<option value='disabled'>Disabled</option>";
			echo "</select>";
			echo "<br>";
		}

		?>
	</div><!-- right side -->

	<div class="col-md-7 col-md-offset-5">
	<input type = "hidden" name = "globalEdit" value = "<?php echo $_POST['globalEdit']; ?>"/>
	<br>
	<div class="toSubmit">
	<button class="btn btn-primary" type='submit' name='globalSub'>Submit</button>
	</div>
	</div> <!-- submit span  -->
	</form>
   	</div><!-- panel -->
	</div><!-- pannelpanel-default -->
	</nav><!-- navbar navbar-default  -->
    </div> <!-- /container -->

    <!-- Le javascript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
    <script src="../assets/js/bootstrap.min.js"></script>


  </body>
</html>
