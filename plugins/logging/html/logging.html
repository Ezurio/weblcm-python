<!DOCTYPE html>
<!--
  Copyright (c) 2017, Laird
  Contact: support@lairdconnect.com
-->

<html>
	<div class="col-xs-12 col-sm-12 placeholder">
		<div>
			<ul class="nav nav-tabs" id="myTabs" role="tablist">
				<li role="presentation" class="active">
					<a href="#set-log" id="set-log-tab" role="tab" data-toggle="tab" aria-controls="set-log" aria-expanded="true">Set Logging</a>
				</li>
				<li role="presentation">
					<a href="#get-log" role="tab" id="get-log-tab" data-toggle="tab" aria-controls="get-log" aria-expanded="true">Show Logs</a>
				</li>
			</ul>
			<br>
			<div class="tab-content" id="myTabContent">
				<div class="tab-pane fade active in" role="tabpanel" id="set-log" aria-labelledby="set-log-tab">
					<form>
						<div class="form-group" id="suppDebugLevelDisplay">
							<label class="pull-left" for="suppDebugLevel">Supplicant debug level:</label>
							<select onchange="onChangeSubmit()" class="form-control" id="suppDebugLevel">
								<option value="none" selected>None</option>
								<option value="error">Error</option>
								<option value="warning">Warning</option>
								<option value="info">Info</option>
								<option value="debug">Debug</option>
								<option value="msgdump">MSG Dump</option>
								<option value="excessive">Excessive</option>
							</select>
						</div>
						<div class="form-group" id="driverDebugLevelDisplay">
							<label class="pull-left" for="driverDebugLevel">Driver debug level:</label>
							<select onchange="onChangeSubmit()" class="form-control" id="driverDebugLevel">
								<option value="0" selected>Off</option>
								<option value="1">On</option>
							</select>
						</div>
						<a id="submitButton" onclick="submitLogging(0)" class="btn btn-primary disabled" role="button">Submit</a>
					</form>
				</div>
				<div class="tab-pane fade" role="tabpanel" id="get-log" aria-labelledby="get-log-tab">
					<div class="panel panel-default">
						<div class="panel-heading">
							<h3 class="panel-title">Download Logs</h3>
						</div>
						<div class="panel-body">
							<table class="table">
								<thead>
									<tr>
										<th>Log</th>
										<th>Age</th>
										<th></th>
										<th></th>
									</tr>
								</thead>
								<tbody>
									<tr>
										<th scope="row">Systemd Journal</th>
										<td id="systemd_age"></td>
										<td><a id="generate_log" onclick="generateLog('systemd',0)" class="btn btn-primary" role="button">Generate</a></td>
										<td><a id="dl_logging_button" href='download_log' class="btn btn-primary" role="button">Download</a></td>
									</tr>
								</tbody>
								</table>
						</div>
					</div>
					<div class="panel panel-default">
						<div class="panel-heading">
							<h3 class="panel-title">View Logs</h3>
						</div>
						<div class="panel-body">
							<div class="progress" id="updateProgressDisplay">
								<div class="progress-bar progress-bar-striped active" role="progressbar" aria-valuenow="100" aria-valuemin="0" aria-valuemax="100" style="width: 100%"></div>
							</div>
							<div style="overflow: auto; height: 75vh;">
								<div class="hidden" id="logTableDisplay">
									<div class="table-responsive col-lg-12">
										<table class="table table-hover table-condensed" id="logTable">
											<thead>
												<tr>
													<th>Time</th>
													<th>Unit</th>
													<th>Message</th>
												</tr>
											</thead>
											<tbody>
												<tr class="hidden" id="emptyNode">
													<td>null</td>
													<td>null</td>
													<td>null</td>
												</tr>
											</tbody>
										</table>
									</div>
								</div>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>
</html>
